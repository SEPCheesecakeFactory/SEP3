/* --- GLOBAL VARIABLES --- */
:root {
  --font-main: "Nunito", sans-serif;
  --primary: #3b82f6;
  --primary-shadow: #2563eb;
  --green: #58cc02;
  --green-shadow: #46a302;
  --blue: #1cb0f6;
  --blue-shadow: #1899d6;
  --yellow: #ffc800;
  --yellow-shadow: #d6a800;
  --red: #ff4b4b;
  --red-shadow: #d43131;
  --purple: #ce82ff;
  --purple-shadow: #a568cc;
  --gray: #e5e5e5;
  --gray-shadow: #afafaf;
  --bg: #ffffff;

  /* Aliases for HTML consistency */
  --game-green: var(--green);
  --game-green-shadow: var(--green-shadow);
  --game-blue: #1cb0f6;
  --game-gray: var(--gray);
}

/* --- BASE STYLES --- */
body {
  font-family: var(--font-main);
  background-color: var(--bg);
  /* Allow vertical scrolling but prevent horizontal overflow */
  overflow-x: hidden;
  margin: 0;
}

a { text-decoration: none; }

/* Override Bootstrap's text-primary to use our blue */
.text-primary { color: var(--primary) !important; }

/* --- LAYOUT & SIDEBAR --- */
.page {
  position: relative;
  display: flex;
  flex-direction: column;
  /* Use min-height instead of fixed 100vh to avoid clipping on mobile browsers and allow the body to scroll naturally */
  min-height: 100vh;
  width: 100vw;
}

main {
  flex-grow: 1;
  overflow-y: auto; /* Enables scrolling for content */
  width: 100%;
}

.content-wrapper {
    max-width: 1024px;
}

.sidebar {
    width: 256px;
    border-right: 2px solid var(--gray);
    z-index: 1030;
    padding: 24px 16px;
    background-color: white;
}

/* Mascot Image */
.mascot-img {
    width: 56px;
    height: 56px;
    object-fit: contain;
}

/* Desktop Logic */
@media (min-width: 768px) {
    .sidebar {
        position: fixed;
        height: 100vh;
        top: 0;
        left: 0;
    }

    .page {
        flex-direction: row;
    }

    main {
        margin-left: 256px; /* Push content right */
        width: calc(100% - 256px);
    }
}

/* --- BUTTONS & NAVIGATION --- */
.btn {
  border: 0;
  border-radius: 16px;
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 0.8px;
  padding: 12px 24px;
  position: relative;
  transition: filter 0.1s;
  margin-bottom: 4px;
}

/* Sidebar Navigation Buttons */
.nav-btn {
    text-align: left;
    background: transparent;
    color: #777;
    border: 2px solid transparent;
    box-shadow: none;
    margin-bottom: 8px;
    border-radius: 12px;
    padding: 12px 16px;
    width: 100%;
    display: flex;
    align-items: center;
}

.nav-btn:hover { background: #f7f7f7; color: #777; }

/* Active State (handled by Blazor NavLink automatically) */
.nav-btn.active {
    background: #ddfffc;
    color: var(--game-blue) !important;
    border: 2px solid #84d8ff;
}
.nav-btn.active i { color: var(--game-blue); }
.nav-btn i { width: 32px; text-align: center; font-size: 1.25rem; margin-right: 8px; }

/* Action Buttons */
.btn-primary {
  background-color: #3b82f6;
  box-shadow: 0 4px 0 #2563eb;
  color: white;
}
.btn-primary:hover { background-color: #60a5fa; color: white; filter: brightness(1.05); }
.btn-primary:active { transform: translateY(4px); box-shadow: none; margin-bottom: 0; margin-top: 4px; }
.btn-primary:disabled {
  background-color: white;
  color: var(--gray);
  border: 2px solid var(--gray);
  box-shadow: none;
  cursor: not-allowed;
  transform: none;
  filter: none;
  opacity: 1;
}
.btn-primary:focus:active { 
  background-color: #3b82f6 !important; 
  border-color: transparent !important;
  transform: translateY(4px); 
  box-shadow: none !important; 
  margin-bottom: 0; 
  margin-top: 4px; 
}
.btn-primary:focus {
  background-color: #3b82f6;
  border-color: transparent;
  box-shadow: 0 4px 0 #2563eb; 
}

.btn-error {
  background-color: var(--red);
  box-shadow: 0 4px 0 var(--red-shadow);
  color: white;
}
.btn-error:hover { background-color: #ff5c5c; color: white; filter: brightness(1.1); }
.btn-error:active,
.btn-error:focus:active {
  background-color: var(--red) !important;
  border-color: transparent !important;
  transform: translateY(4px);
  box-shadow: none !important;
  margin-bottom: 0;
  margin-top: 4px;
}
.btn-error:focus {
  background-color: var(--red);
  border-color: transparent;
  box-shadow: 0 4px 0 var(--red-shadow);
}

.btn-outline-secondary {
  background: white;
  border: 2px solid var(--gray) !important;
  box-shadow: 0 4px 0 var(--gray);
  color: #777;
}
.btn-outline-secondary:hover { background: #f8f9fa; border-color: var(--gray) !important; color: #777; }
.btn-outline-secondary:active { transform: translateY(4px); box-shadow: none; margin-bottom: 0; margin-top: 4px; }

/* --- MOBILE NAV --- */
.mobile-nav {
    border-top: 2px solid var(--gray);
    z-index: 1040;
    padding-bottom: env(safe-area-inset-bottom);
}

/* --- UTILITIES & CARDS --- */
.progress { height: 16px; border-radius: 8px; background-color: #e5e5e5; box-shadow: inset 0 2px 4px rgba(0,0,0,0.05); }
.progress-bar { background-color: var(--green); border-radius: 8px; transition: width 0.5s ease; }

.card-course {
    border: 2px solid var(--gray);
    border-radius: 16px;
    box-shadow: none;
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;
    position: relative;
    overflow: hidden;
}
.card-course:hover {
    transform: translateY(-4px);
    box-shadow: 0 10px 0 rgba(0,0,0,0.05);
}
.card-course:active { transform: translateY(0); box-shadow: none; }

.btn-edit-card {
    background: white;
    border: 2px solid var(--gray) !important;
    border-radius: 8px;
    padding: 6px 10px;
    color: #777;
    transition: all 0.15s ease;
}
.btn-edit-card:hover {
    background: #f0f0f0;
    color: #555;
    border-color: #ccc !important;
}

/* Colors */
.bg-blue-100 { background-color: #dbeafe; }
.text-blue-600 { color: #2563eb; }
.border-blue-200 { border-color: #bfdbfe !important; }
.bg-yellow-100 { background-color: #fef9c3; }
.text-yellow-600 { color: #ca8a04; }
.border-yellow-200 { border-color: #fde047 !important; }
.bg-pink-100 { background-color: #fce7f3; }
.text-pink-600 { color: #db2777; }
.border-pink-200 { border-color: #fbcfe8 !important; }
.bg-purple-100 { background-color: #f3e8ff; }
.text-purple-600 { color: #9333ea; }
.border-purple-200 { border-color: #e9d5ff !important; }
.bg-green-100 { background-color: #dcfce7; }
.text-green-600 { color: #16a34a; }
.border-green-200 { border-color: #bbf7d0 !important; }
.bg-red-100 { background-color: #fee2e2; }
.text-red-600 { color: #dc2626; }
.border-red-200 { border-color: #fecaca !important; }

/* --- BLAZOR ERROR UI FIX --- */
#blazor-error-ui {
    background: lightyellow;
    bottom: 0;
    box-shadow: 0 -1px 2px rgba(0, 0, 0, 0.2);
    display: none; /* Hidden by default */
    left: 0;
    padding: 0.6rem 1.25rem 0.7rem 1.25rem;
    position: fixed;
    width: 100%;
    z-index: 1000;
}

.game-input {
    background-color: #f7f7f7;
    border: 2px solid var(--gray);
    border-radius: 12px;
    padding: 12px 16px;
    font-weight: 700;
    color: #4b4b4b;
    transition: all 0.2s ease;
}

.game-input:focus {
    background-color: white;
    border-color: var(--primary);
    box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.1); /* Light blue glow */
    color: black;
    outline: none;
}